<h1 class="heading-primary">White-List / Black-List Builder</h1>

  {{#empty filters}}
  {{else}}
    <label>Filters</label>
      {{#collection filters item-context="filterContext" tag="div" class="well value-set-filters"}}
        <tr>
          <th>
            {{#button 'removeFilter' class="btn btn-xs btn-danger"}}<i class="fa fa-times"></i>{{/button}}
          </th>
          <th>
            {{display_name}}
          </th>
          <th>
            {{#if included}}
              {{#button 'includeFilter' class="btn btn-primary" disabled="disabled"}}<i class="fa fa-plus-square"></i> Included{{/button}}
            {{else}}
              {{#button 'includeFilter' class="btn btn-default"}}<i class="fa fa-square-o"></i> Include{{/button}}
            {{/if}}
          </th>
          <th>
            {{#if excluded}}
              {{#button 'excludeFilter' class="btn btn-primary" disabled="disabled"}}<i class="fa fa-minus-square"></i> Excluded{{/button}}
            {{else}}
              {{#button 'excludeFilter' class="btn btn-default"}}<i class="fa fa-square-o"></i> Exclude{{/button}}
            {{/if}}
          </th>
        </tr>
      {{/collection}}
  {{/empty}}

  <div class="panel panel-default">
    <form class="form-horizontal search-form" role="form">
      <div class="input-group input-group-lg">
        <input type="text" class="form-control" id="searchByNameOrOID" placeholder="Enter Value Set name or oid..." title="Value Set name or oid">
        <span class="input-group-btn">
          <button type="submit" class="btn btn-default search-button"> <i class="fa fa-search"></i> Search</button>
        </span>
        <div class="input-group-btn">
          <button type="button" class="btn btn-default dropdown-toggle measure-button" data-toggle="dropdown"> <i class="fa fa-tasks"></i> Measures <span class="caret"></span></button>
          {{#collection measures tag="ul" class="dropdown-menu pull-right"}}
            <li>{{#button 'selectMeasure' tag="a"}}[ <strong>{{cms_id}}</strong> ({{measure_id}}) ] {{hqmf_set_id}}{{/button}}</li>
          {{/collection}}
        </div>
        <span class="input-group-btn">
          <button type="button" class="btn btn-default rebuild-patients" data-call-method="rebuildPatients"> <i class="fa fa-users"></i> Rebuild Patients</button>
        </span>
      </div>
    </form>
  </div>
  {{#empty searchResults}}
  {{else}}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Search Results for '{{query}}'</h2>
      </div>
      <div class="panel-body">
        {{view searchResultsCollectionView}}
      </div>
    </div>
  {{/empty}}

  {{#empty whiteList}}
    <h2>No white-listed Value Sets found!</h2>
  {{else}}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">White List</h2>
      </div>
      <div class="panel-body">
        {{view whiteListCollectionView}}
      </div>
    </div>
  {{/empty}}

  {{#empty blackList}}
    <h2>No black-listed Value Sets found!</h2>
  {{else}}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2 class="panel-title">Black List</h2>
      </div>
      <div class="panel-body">
        {{view blackListCollectionView}}
      </div>
    </div>
  {{/empty}}
